{"ast":null,"code":"export function generateRecommendations(filteredHotels, allHotels) {\n  if (!filteredHotels || !Array.isArray(filteredHotels)) return [];\n  if (!allHotels || !Array.isArray(allHotels)) return [];\n  const visits = JSON.parse(localStorage.getItem(\"visits\") || \"{}\");\n  const completed = JSON.parse(localStorage.getItem(\"completedBookings\") || \"[]\");\n  const drafts = JSON.parse(localStorage.getItem(\"draftBookings\") || \"[]\");\n  const activityIds = new Set([...Object.keys(visits).map(Number), ...completed.map(h => h.hotel_id), ...drafts.map(h => h.hotel_id)]);\n  const activityHotels = allHotels.filter(h => activityIds.has(h.hotel_id));\n  const visitedCities = new Set(activityHotels.map(h => h.city));\n  const recSet = new Set();\n  filteredHotels.forEach(hotel => {\n    if (!activityIds.has(hotel.hotel_id) && visitedCities.has(hotel.city)) {\n      recSet.add(hotel);\n    }\n  });\n  const topRated = filteredHotels.filter(hotel => hotel.rating_average >= 8.5);\n  topRated.forEach(hotel => {\n    if (!activityIds.has(hotel.hotel_id)) recSet.add(hotel);\n  });\n  return Array.from(recSet).slice(0, 5);\n}","map":{"version":3,"names":["generateRecommendations","filteredHotels","allHotels","Array","isArray","visits","JSON","parse","localStorage","getItem","completed","drafts","activityIds","Set","Object","keys","map","Number","h","hotel_id","activityHotels","filter","has","visitedCities","city","recSet","forEach","hotel","add","topRated","rating_average","from","slice"],"sources":["C:/Users/ASUS/Desktop/projects/HotelManagementSystem/HotelManagementSystem/HotelBookingPlatform/client/src/utils/recommendations.js"],"sourcesContent":["export function generateRecommendations(filteredHotels, allHotels) {\r\n  if (!filteredHotels || !Array.isArray(filteredHotels)) return [];\r\n  if (!allHotels || !Array.isArray(allHotels)) return [];\r\n\r\n  const visits = JSON.parse(localStorage.getItem(\"visits\") || \"{}\");\r\n  const completed = JSON.parse(localStorage.getItem(\"completedBookings\") || \"[]\");\r\n  const drafts = JSON.parse(localStorage.getItem(\"draftBookings\") || \"[]\");\r\n\r\n  const activityIds = new Set([\r\n    ...Object.keys(visits).map(Number),\r\n    ...completed.map(h => h.hotel_id),\r\n    ...drafts.map(h => h.hotel_id),\r\n  ]);\r\n\r\n  const activityHotels = allHotels.filter(h => activityIds.has(h.hotel_id));\r\n  const visitedCities = new Set(activityHotels.map(h => h.city));\r\n\r\n  const recSet = new Set();\r\n\r\n  filteredHotels.forEach(hotel => {\r\n    if (\r\n      !activityIds.has(hotel.hotel_id) &&\r\n      visitedCities.has(hotel.city)\r\n    ) {\r\n      recSet.add(hotel);\r\n    }\r\n  });\r\n\r\n  const topRated = filteredHotels.filter(hotel => hotel.rating_average >= 8.5);\r\n  topRated.forEach(hotel => {\r\n    if (!activityIds.has(hotel.hotel_id)) recSet.add(hotel);\r\n  });\r\n\r\n  return Array.from(recSet).slice(0, 5);\r\n}\r\n"],"mappings":"AAAA,OAAO,SAASA,uBAAuBA,CAACC,cAAc,EAAEC,SAAS,EAAE;EACjE,IAAI,CAACD,cAAc,IAAI,CAACE,KAAK,CAACC,OAAO,CAACH,cAAc,CAAC,EAAE,OAAO,EAAE;EAChE,IAAI,CAACC,SAAS,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,SAAS,CAAC,EAAE,OAAO,EAAE;EAEtD,MAAMG,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC;EACjE,MAAMC,SAAS,GAAGJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,IAAI,IAAI,CAAC;EAC/E,MAAME,MAAM,GAAGL,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC;EAExE,MAAMG,WAAW,GAAG,IAAIC,GAAG,CAAC,CAC1B,GAAGC,MAAM,CAACC,IAAI,CAACV,MAAM,CAAC,CAACW,GAAG,CAACC,MAAM,CAAC,EAClC,GAAGP,SAAS,CAACM,GAAG,CAACE,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAC,EACjC,GAAGR,MAAM,CAACK,GAAG,CAACE,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAC,CAC/B,CAAC;EAEF,MAAMC,cAAc,GAAGlB,SAAS,CAACmB,MAAM,CAACH,CAAC,IAAIN,WAAW,CAACU,GAAG,CAACJ,CAAC,CAACC,QAAQ,CAAC,CAAC;EACzE,MAAMI,aAAa,GAAG,IAAIV,GAAG,CAACO,cAAc,CAACJ,GAAG,CAACE,CAAC,IAAIA,CAAC,CAACM,IAAI,CAAC,CAAC;EAE9D,MAAMC,MAAM,GAAG,IAAIZ,GAAG,CAAC,CAAC;EAExBZ,cAAc,CAACyB,OAAO,CAACC,KAAK,IAAI;IAC9B,IACE,CAACf,WAAW,CAACU,GAAG,CAACK,KAAK,CAACR,QAAQ,CAAC,IAChCI,aAAa,CAACD,GAAG,CAACK,KAAK,CAACH,IAAI,CAAC,EAC7B;MACAC,MAAM,CAACG,GAAG,CAACD,KAAK,CAAC;IACnB;EACF,CAAC,CAAC;EAEF,MAAME,QAAQ,GAAG5B,cAAc,CAACoB,MAAM,CAACM,KAAK,IAAIA,KAAK,CAACG,cAAc,IAAI,GAAG,CAAC;EAC5ED,QAAQ,CAACH,OAAO,CAACC,KAAK,IAAI;IACxB,IAAI,CAACf,WAAW,CAACU,GAAG,CAACK,KAAK,CAACR,QAAQ,CAAC,EAAEM,MAAM,CAACG,GAAG,CAACD,KAAK,CAAC;EACzD,CAAC,CAAC;EAEF,OAAOxB,KAAK,CAAC4B,IAAI,CAACN,MAAM,CAAC,CAACO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AACvC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}